# Use the base image from the monorepo Dockerfile
# # This Dockerfile is for the development environment of the API workspace.
# # It uses the base image defined in Dockerfile.base as its starting point.
# before_script: docker build -f Dockerfile.base -t lucky-monorepo-base .
# you should run this command to build the base image before building this Dockerfile.

FROM lucky-monorepo-base

# set the working directory to the app folder
WORKDIR /app

# copy the entire monorepo into the container
COPY . .

# generate the Prisma client
RUN yarn workspace @lucky/api prisma generate

CMD ["yarn", "workspace", "@lucky/api", "start:dev"]

